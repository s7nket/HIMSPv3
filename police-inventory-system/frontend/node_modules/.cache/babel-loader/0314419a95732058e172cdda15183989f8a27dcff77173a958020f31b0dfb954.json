{"ast":null,"code":"var _jsxFileName = \"D:\\\\HIMSPv4\\\\HIMSPv4\\\\police-inventory-system\\\\frontend\\\\src\\\\components\\\\admin\\\\UserManagement.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { adminAPI } from '../../utils/api';\nimport { toast } from 'react-toastify';\nimport './UserManagement.css'; // <-- 1. IMPORT THE NEW CSS FILE\n\n// Valid Indian state codes\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst STATE_CODES = [{\n  code: 'IND',\n  name: 'All-India'\n}, {\n  code: 'AP',\n  name: 'Andhra Pradesh'\n}, {\n  code: 'AR',\n  name: 'Arunachal Pradesh'\n}, {\n  code: 'AS',\n  name: 'Assam'\n}, {\n  code: 'BR',\n  name: 'Bihar'\n}, {\n  code: 'CG',\n  name: 'Chhattisgarh'\n}, {\n  code: 'GA',\n  name: 'Goa'\n}, {\n  code: 'GJ',\n  name: 'Gujarat'\n}, {\n  code: 'HR',\n  name: 'Haryana'\n}, {\n  code: 'HP',\n  name: 'Himachal Pradesh'\n}, {\n  code: 'JH',\n  name: 'Jharkhand'\n}, {\n  code: 'KA',\n  name: 'Karnataka'\n}, {\n  code: 'KL',\n  name: 'Kerala'\n}, {\n  code: 'MP',\n  name: 'Madhya Pradesh'\n}, {\n  code: 'MH',\n  name: 'Maharashtra'\n}, {\n  code: 'MN',\n  name: 'Manipur'\n}, {\n  code: 'ML',\n  name: 'Meghalaya'\n}, {\n  code: 'MZ',\n  name: 'Mizoram'\n}, {\n  code: 'NL',\n  name: 'Nagaland'\n}, {\n  code: 'OD',\n  name: 'Odisha'\n}, {\n  code: 'PB',\n  name: 'Punjab'\n}, {\n  code: 'RJ',\n  name: 'Rajasthan'\n}, {\n  code: 'SK',\n  name: 'Sikkim'\n}, {\n  code: 'TN',\n  name: 'Tamil Nadu'\n}, {\n  code: 'TG',\n  name: 'Telangana'\n}, {\n  code: 'TR',\n  name: 'Tripura'\n}, {\n  code: 'UP',\n  name: 'Uttar Pradesh'\n}, {\n  code: 'UK',\n  name: 'Uttarakhand'\n}, {\n  code: 'WB',\n  name: 'West Bengal'\n}, {\n  code: 'AN',\n  name: 'Andaman & Nicobar'\n}, {\n  code: 'CH',\n  name: 'Chandigarh'\n}, {\n  code: 'DH',\n  name: 'Dadra & Nagar Haveli'\n}, {\n  code: 'DD',\n  name: 'Daman & Diu'\n}, {\n  code: 'DL',\n  name: 'Delhi'\n}, {\n  code: 'JK',\n  name: 'Jammu & Kashmir'\n}, {\n  code: 'LA',\n  name: 'Ladakh'\n}, {\n  code: 'LD',\n  name: 'Lakshadweep'\n}, {\n  code: 'PY',\n  name: 'Puducherry'\n}];\n\n// Valid rank codes\nconst RANK_CODES = [{\n  code: 'PC',\n  name: 'Police Constable'\n}, {\n  code: 'HC',\n  name: 'Head Constable'\n}, {\n  code: 'ASI',\n  name: 'Assistant Sub-Inspector'\n}, {\n  code: 'SI',\n  name: 'Sub-Inspector'\n}, {\n  code: 'PSI',\n  name: 'Police Sub-Inspector'\n}, {\n  code: 'INSP',\n  name: 'Inspector'\n}, {\n  code: 'PI',\n  name: 'Police Inspector'\n}, {\n  code: 'DSP',\n  name: 'Deputy Superintendent of Police'\n}, {\n  code: 'SP',\n  name: 'Superintendent of Police'\n}, {\n  code: 'SSP',\n  name: 'Senior Superintendent of Police'\n}, {\n  code: 'DCP',\n  name: 'Deputy Commissioner of Police'\n}, {\n  code: 'ADDCP',\n  name: 'Additional DCP'\n}, {\n  code: 'JCP',\n  name: 'Joint Commissioner of Police'\n}, {\n  code: 'IGP',\n  name: 'Inspector General of Police'\n}, {\n  code: 'DIGP',\n  name: 'Deputy IGP'\n}, {\n  code: 'ADGP',\n  name: 'Additional DGP'\n}, {\n  code: 'DGP',\n  name: 'Director General of Police'\n}, {\n  code: 'IPS',\n  name: 'Indian Police Service'\n}];\n\n/**\r\n * Calculates the years of service based on the joining date.\r\n * @param {string} dateOfJoining - The ISO date string of joining.\r\n * @returns {string} - A string like \"5.2 years\" or \"N/A\".\r\n */\nconst calculateYearsOfService = dateOfJoining => {\n  if (!dateOfJoining) return 'N/A';\n  const joiningDate = new Date(dateOfJoining);\n  if (isNaN(joiningDate.getTime())) return 'N/A';\n  const today = new Date();\n  if (joiningDate > today) return '0.0 years';\n  const diffTime = Math.abs(today - joiningDate);\n  const diffYears = diffTime / (1000 * 60 * 60 * 24 * 365.25);\n  return diffYears.toFixed(1) + ' years';\n};\nconst UserManagement = () => {\n  _s();\n  const [users, setUsers] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(1);\n\n  // 游리 MODIFIED: We need 4 new states for debouncing and loading\n  const [isInitialLoad, setIsInitialLoad] = useState(true); // Is this the very first load?\n  const [searchTerm, setSearchTerm] = useState(''); // This is the \"live\" typing\n  const [roleFilter, setRoleFilter] = useState(''); // This is the \"live\" filter\n  const [debouncedSearchTerm, setDebouncedSearchTerm] = useState(''); // This triggers the API\n  const [debouncedRoleFilter, setDebouncedRoleFilter] = useState(''); // This triggers the API\n\n  // Modals State\n  const [showCreateModal, setShowCreateModal] = useState(false);\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\n  const [selectedUser, setSelectedUser] = useState(null);\n\n  // Form validation errors\n  const [errors, setErrors] = useState({});\n  const [officerIdParts, setOfficerIdParts] = useState({\n    state: '',\n    rankCode: '',\n    year: new Date().getFullYear().toString(),\n    serial: ''\n  });\n  const [newUser, setNewUser] = useState({\n    officerId: '',\n    fullName: '',\n    designation: '',\n    email: '',\n    dateOfJoining: '',\n    password: '',\n    rank: ''\n  });\n\n  // Rank categories with their designations\n  const rankCategories = {\n    'Senior Command (DGP, SP, DCP)': ['Director General of Police (DGP)', 'Superintendent of Police (SP)', 'Deputy Commissioner of Police (DCP)'],\n    'District Administrator (DSP)': ['Deputy Superintendent of Police (DSP)'],\n    'Police Station Officers (PI, SI, PSI)': ['Police Inspector (PI)', 'Sub-Inspector (SI)', 'Police Sub-Inspector (PSI)'],\n    'Police Station Staff (HC, PC)': ['Head Constable (HC)', 'Police Constable (PC)']\n  };\n\n  // Validation functions (unchanged)\n  const validateEmail = email => {\n    const validDomains = ['police.gov.in', 'gov.in', 'state.gov.in'];\n    const emailPattern = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$/;\n    if (!email) return 'Email is required';\n    if (!emailPattern.test(email)) return 'Please enter a valid email address';\n    const domain = email.split('@')[1];\n    const isValidDomain = validDomains.some(validDomain => domain === validDomain || domain.endsWith('.' + validDomain));\n    if (!isValidDomain) return 'Email must be from police.gov.in, gov.in, or state.gov.in domains';\n    return '';\n  };\n  const validateOfficerIdParts = () => {\n    const newErrors = {};\n    if (!officerIdParts.state) newErrors.state = 'State is required';\n    if (!officerIdParts.rankCode) newErrors.rankCode = 'Rank code is required';\n    if (!officerIdParts.year) newErrors.year = 'Year is required';else {\n      const year = parseInt(officerIdParts.year);\n      const currentYear = new Date().getFullYear();\n      if (year < 1947 || year > currentYear + 1) newErrors.year = `Year must be between 1947 and ${currentYear + 1}`;\n    }\n    if (!officerIdParts.serial) newErrors.serial = 'Serial number is required';else if (officerIdParts.serial.length < 1 || officerIdParts.serial.length > 6) newErrors.serial = 'Serial must be 1-6 digits';\n    return newErrors;\n  };\n  const validateForm = () => {\n    const newErrors = {};\n    Object.assign(newErrors, validateOfficerIdParts());\n    if (!newUser.fullName) newErrors.fullName = 'Full name is required';else if (newUser.fullName.length < 3) newErrors.fullName = 'Full name must be at least 3 characters';else if (newUser.fullName.length > 100) newErrors.fullName = 'Full name cannot exceed 100 characters';\n    const emailError = validateEmail(newUser.email);\n    if (emailError) newErrors.email = emailError;\n    if (!newUser.dateOfJoining) newErrors.dateOfJoining = 'Date of joining is required';else if (new Date(newUser.dateOfJoining) > new Date()) newErrors.dateOfJoining = 'Date of joining cannot be in the future';\n    if (!newUser.rank) newErrors.rank = 'Rank category is required';\n    if (!newUser.designation) newErrors.designation = 'Designation is required';\n    if (!newUser.password) newErrors.password = 'Password is required';else if (newUser.password.length < 8) newErrors.password = 'Password must be at least 8 characters';\n    return newErrors;\n  };\n  const generateOfficerId = () => {\n    const {\n      state,\n      rankCode,\n      year,\n      serial\n    } = officerIdParts;\n    if (state && rankCode && year && serial) {\n      const paddedSerial = serial.padStart(4, '0');\n      return `${state}${rankCode}${year}${paddedSerial}`;\n    }\n    return '';\n  };\n  useEffect(() => {\n    const generatedId = generateOfficerId();\n    setNewUser(prev => ({\n      ...prev,\n      officerId: generatedId\n    }));\n    if (generatedId) {\n      setErrors(prev => ({\n        ...prev,\n        state: '',\n        rankCode: '',\n        year: '',\n        serial: ''\n      }));\n    }\n  }, [officerIdParts]);\n\n  // 游릭 ADDED: This hook \"debounces\" the user's input\n  useEffect(() => {\n    // Set a timer for 500ms\n    const handler = setTimeout(() => {\n      setDebouncedSearchTerm(searchTerm);\n      setDebouncedRoleFilter(roleFilter);\n      setCurrentPage(1); // Reset to page 1 on a new search\n    }, 500); // 500ms delay\n\n    // Clear the timer if the user types again\n    return () => {\n      clearTimeout(handler);\n    };\n  }, [searchTerm, roleFilter]); // Watch the \"live\" inputs\n\n  // 游리 MODIFIED: This hook now fetches data based on the *debounced* values\n  useEffect(() => {\n    fetchUsers();\n  }, [currentPage, debouncedSearchTerm, debouncedRoleFilter]); // <-- DEPENDENCIES CHANGED\n\n  const fetchUsers = async () => {\n    try {\n      setLoading(true);\n      const response = await adminAPI.getUsers({\n        page: currentPage,\n        limit: 10,\n        search: debouncedSearchTerm,\n        // <-- USE DEBOUNCED\n        role: debouncedRoleFilter // <-- USE DEBOUNCED\n      });\n      if (response.data.success) {\n        setUsers(response.data.data.users);\n        setTotalPages(response.data.data.pagination.pages);\n      }\n    } catch (error) {\n      toast.error('Failed to fetch users');\n    } finally {\n      setLoading(false);\n      setIsInitialLoad(false); // 游릭 ADDED: Mark initial load as complete\n    }\n  };\n  const handleToggleStatus = async (userId, currentStatus) => {\n    try {\n      await adminAPI.updateUser(userId, {\n        isActive: !currentStatus\n      });\n      toast.success(`User ${!currentStatus ? 'activated' : 'deactivated'} successfully`);\n      fetchUsers();\n    } catch (error) {\n      toast.error('Failed to update user status');\n    }\n  };\n  const handleCreateUser = async e => {\n    e.preventDefault();\n    const formErrors = validateForm();\n    if (Object.keys(formErrors).length > 0) {\n      setErrors(formErrors);\n      toast.error('Please fix the errors in the form.');\n      return;\n    }\n    try {\n      await adminAPI.createUser(newUser);\n      toast.success('Officer created successfully!');\n      setShowCreateModal(false);\n      setNewUser({\n        officerId: '',\n        fullName: '',\n        designation: '',\n        email: '',\n        dateOfJoining: '',\n        password: '',\n        rank: ''\n      });\n      setOfficerIdParts({\n        state: '',\n        rankCode: '',\n        year: new Date().getFullYear().toString(),\n        serial: ''\n      });\n      setErrors({});\n      fetchUsers();\n    } catch (error) {\n      var _error$response, _error$response$data, _error$response2, _error$response2$data;\n      // Simplified error handling\n      toast.error(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'Failed to create officer.');\n      if ((_error$response2 = error.response) !== null && _error$response2 !== void 0 && (_error$response2$data = _error$response2.data) !== null && _error$response2$data !== void 0 && _error$response2$data.errors) {\n        const backendErrors = error.response.data.errors.reduce((acc, err) => {\n          acc[err.path] = err.msg;\n          return acc;\n        }, {});\n        setErrors(backendErrors);\n      }\n    }\n  };\n\n  // 3. ======== 游릭 HANDLERS FOR DELETE MODAL 游릭 ========\n  const handleDeleteClick = user => {\n    setSelectedUser(user);\n    setShowDeleteModal(true);\n  };\n  const handleCloseModals = () => {\n    setShowCreateModal(false);\n    setShowDeleteModal(false);\n    setSelectedUser(null);\n    setErrors({});\n  };\n  const handleConfirmDelete = async () => {\n    if (!selectedUser) return;\n    try {\n      // You must add `deleteUser` to your `adminAPI` in api.js\n      await adminAPI.deleteUser(selectedUser._id);\n      toast.success(`User ${selectedUser.fullName} has been permanently removed.`);\n      handleCloseModals();\n      fetchUsers(); // Refresh the list\n    } catch (error) {\n      var _error$response3, _error$response3$data;\n      toast.error(((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : (_error$response3$data = _error$response3.data) === null || _error$response3$data === void 0 ? void 0 : _error$response3$data.message) || 'Failed to remove user.');\n      handleCloseModals();\n    }\n  };\n  // ===================================================\n\n  // (Helper functions for forms are unchanged)\n  const handleRankChange = e => {\n    const selectedRank = e.target.value;\n    setNewUser(prev => ({\n      ...prev,\n      rank: selectedRank,\n      designation: ''\n    }));\n    if (selectedRank) setErrors(prev => ({\n      ...prev,\n      rank: '',\n      designation: ''\n    }));\n  };\n  const getAvailableDesignations = () => rankCategories[newUser.rank] || [];\n  const handleInputChange = (field, value) => {\n    setNewUser(prev => ({\n      ...prev,\n      [field]: value\n    }));\n    if (errors[field]) setErrors(prev => ({\n      ...prev,\n      [field]: ''\n    }));\n  };\n  const handleOfficerIdPartChange = (field, value) => {\n    setOfficerIdParts(prev => ({\n      ...prev,\n      [field]: value\n    }));\n    if (errors[field]) setErrors(prev => ({\n      ...prev,\n      [field]: ''\n    }));\n  };\n\n  // 游리 MODIFIED: This now ONLY shows for the *initial* load\n  if (loading && isInitialLoad) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"um-page\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loading-spinner\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Loading users...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 7\n    }, this);\n  }\n\n  // 4. ======== 游릭 REFACTORED JSX WITH NEW CSS CLASSES 游릭 ========\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"um-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"um-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"um-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"User Management\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary\",\n          onClick: () => setShowCreateModal(true),\n          children: \"+ Create New Officer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"um-controls\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Search by name, email, or officer ID...\"\n          // 游리 MODIFIED: Value and onChange now use the \"live\" state\n          ,\n          value: searchTerm,\n          onChange: e => setSearchTerm(e.target.value),\n          className: \"um-search-input\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          // 游리 MODIFIED: Value and onChange now use the \"live\" state\n          value: roleFilter,\n          onChange: e => setRoleFilter(e.target.value),\n          className: \"um-filter-select\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"All Roles\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"admin\",\n            children: \"Admin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"officer\",\n            children: \"Officer\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `um-table-wrapper ${loading ? 'um-loading' : ''}`,\n        children: users.length === 0 && !loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"um-empty-state\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"No users found matching your criteria.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"um-table\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Officer ID\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 343,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Full Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 344,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 345,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Designation\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 346,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Rank\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 347,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Service (Yrs)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 348,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 349,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Actions\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 350,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 342,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: users.map(user => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"code\", {\n                  children: user.officerId\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 356,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 356,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: user.fullName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 357,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: user.email\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 358,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"um-badge um-badge-blue\",\n                  children: user.designation\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 360,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 359,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: user.rank\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 362,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: calculateYearsOfService(user.dateOfJoining)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 363,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `um-badge ${user.isActive ? 'um-badge-green' : 'um-badge-gray'}`,\n                  children: user.isActive ? 'Active' : 'Inactive'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 365,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 364,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"um-actions-cell\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: `btn btn-action ${user.isActive ? 'btn-action-warn' : 'btn-action-success'}`,\n                  onClick: () => handleToggleStatus(user._id, user.isActive),\n                  children: user.isActive ? 'Deactivate' : 'Activate'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 370,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-action btn-action-danger\",\n                  onClick: () => handleDeleteClick(user),\n                  children: \"Remove\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 377,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 369,\n                columnNumber: 21\n              }, this)]\n            }, user._id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 355,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 9\n      }, this), totalPages > 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"um-pagination\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-secondary\",\n          onClick: () => setCurrentPage(prev => Math.max(1, prev - 1))\n          // 游리 MODIFIED: Disable pagination while loading\n          ,\n          disabled: currentPage === 1 || loading,\n          children: \"Previous\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 394,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"um-page-info\",\n          children: [\"Page \", currentPage, \" of \", totalPages]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 402,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-secondary\",\n          onClick: () => setCurrentPage(prev => Math.min(totalPages, prev + 1))\n          // 游리 MODIFIED: Disable pagination while loading\n          ,\n          disabled: currentPage === totalPages || loading,\n          children: \"Next\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 405,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 393,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 7\n    }, this), showCreateModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"um-modal-overlay\",\n      onClick: handleCloseModals,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"um-modal-content\",\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"um-modal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Create New Officer\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 422,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"um-modal-close\",\n            onClick: handleCloseModals,\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 423,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 421,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          id: \"create-user-form\",\n          onSubmit: handleCreateUser,\n          className: \"um-modal-form\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"um-form-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Officer ID Builder\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 429,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"um-form-row\",\n              style: {\n                gap: '8px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"um-form-group\",\n                style: {\n                  flex: '1'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"State *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 432,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: officerIdParts.state,\n                  onChange: e => handleOfficerIdPartChange('state', e.target.value),\n                  className: errors.state ? 'error' : '',\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: \"Select State\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 438,\n                    columnNumber: 23\n                  }, this), STATE_CODES.map(s => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: s.code,\n                    children: [s.code, \" - \", s.name]\n                  }, s.code, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 439,\n                    columnNumber: 45\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 433,\n                  columnNumber: 21\n                }, this), errors.state && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"um-error-message\",\n                  children: errors.state\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 441,\n                  columnNumber: 38\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 431,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"um-form-group\",\n                style: {\n                  flex: '1'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Rank Code *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 444,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: officerIdParts.rankCode,\n                  onChange: e => handleOfficerIdPartChange('rankCode', e.target.value),\n                  className: errors.rankCode ? 'error' : '',\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: \"Select Rank\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 450,\n                    columnNumber: 23\n                  }, this), RANK_CODES.map(r => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: r.code,\n                    children: [r.code, \" - \", r.name]\n                  }, r.code, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 451,\n                    columnNumber: 44\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 445,\n                  columnNumber: 21\n                }, this), errors.rankCode && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"um-error-message\",\n                  children: errors.rankCode\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 453,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 443,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"um-form-group\",\n                style: {\n                  flex: '0.7'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Year *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 456,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  value: officerIdParts.year,\n                  onChange: e => handleOfficerIdPartChange('year', e.target.value),\n                  placeholder: \"2024\",\n                  className: errors.year ? 'error' : ''\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 457,\n                  columnNumber: 21\n                }, this), errors.year && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"um-error-message\",\n                  children: errors.year\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 464,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 455,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"um-form-group\",\n                style: {\n                  flex: '0.7'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Serial *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 467,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  value: officerIdParts.serial,\n                  onChange: e => handleOfficerIdPartChange('serial', e.target.value),\n                  placeholder: \"0001\",\n                  className: errors.serial ? 'error' : ''\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 468,\n                  columnNumber: 21\n                }, this), errors.serial && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"um-error-message\",\n                  children: errors.serial\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 475,\n                  columnNumber: 39\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 466,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 430,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"um-officer-id-preview\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"um-preview-label\",\n                children: \"Officer ID:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 479,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"um-preview-value\",\n                children: newUser.officerId || 'STATE/RANK/YEAR/SERIAL'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 480,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 478,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 428,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"um-form-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"um-form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Full Name *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 486,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: newUser.fullName,\n                onChange: e => handleInputChange('fullName', e.target.value),\n                className: errors.fullName ? 'error' : ''\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 487,\n                columnNumber: 19\n              }, this), errors.fullName && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"um-error-message\",\n                children: errors.fullName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 488,\n                columnNumber: 39\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 485,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"um-form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Email *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 491,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"email\",\n                value: newUser.email,\n                onChange: e => handleInputChange('email', e.target.value),\n                className: errors.email ? 'error' : ''\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 492,\n                columnNumber: 19\n              }, this), errors.email && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"um-error-message\",\n                children: errors.email\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 493,\n                columnNumber: 36\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"um-field-hint\",\n                children: \"Only @police.gov.in, @gov.in, or @state.gov.in\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 494,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 490,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 484,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"um-form-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"um-form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Date of Joining *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 500,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                value: newUser.dateOfJoining,\n                onChange: e => handleInputChange('dateOfJoining', e.target.value),\n                max: new Date().toISOString().split('T')[0],\n                className: errors.dateOfJoining ? 'error' : ''\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 501,\n                columnNumber: 19\n              }, this), errors.dateOfJoining && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"um-error-message\",\n                children: errors.dateOfJoining\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 502,\n                columnNumber: 44\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 499,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"um-form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Rank Category *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 505,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: newUser.rank,\n                onChange: handleRankChange,\n                className: errors.rank ? 'error' : '',\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Select Rank Category\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 507,\n                  columnNumber: 21\n                }, this), Object.keys(rankCategories).map(rank => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: rank,\n                  children: rank\n                }, rank, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 508,\n                  columnNumber: 62\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 506,\n                columnNumber: 19\n              }, this), errors.rank && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"um-error-message\",\n                children: errors.rank\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 510,\n                columnNumber: 35\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 504,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 498,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"um-form-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"um-form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Designation *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 516,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: newUser.designation,\n                onChange: e => handleInputChange('designation', e.target.value),\n                disabled: !newUser.rank,\n                className: errors.designation ? 'error' : '',\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: newUser.rank ? 'Select Designation' : 'Select Rank First'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 518,\n                  columnNumber: 21\n                }, this), getAvailableDesignations().map(designation => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: designation,\n                  children: designation\n                }, designation, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 519,\n                  columnNumber: 68\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 517,\n                columnNumber: 19\n              }, this), errors.designation && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"um-error-message\",\n                children: errors.designation\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 521,\n                columnNumber: 42\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 515,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"um-form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Password *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 524,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"password\",\n                value: newUser.password,\n                onChange: e => handleInputChange('password', e.target.value),\n                placeholder: \"Minimum 8 characters\",\n                className: errors.password ? 'error' : ''\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 525,\n                columnNumber: 19\n              }, this), errors.password && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"um-error-message\",\n                children: errors.password\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 526,\n                columnNumber: 39\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 523,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 514,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 427,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"um-modal-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn btn-secondary\",\n            onClick: handleCloseModals,\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 531,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"btn btn-primary\",\n            form: \"create-user-form\",\n            children: \"Create Officer\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 533,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 530,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 420,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 419,\n      columnNumber: 9\n    }, this), showDeleteModal && selectedUser && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"um-modal-overlay\",\n      onClick: handleCloseModals,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"um-modal-content um-modal-content-small\",\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"um-modal-body-centered\",\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"icon\",\n            xmlns: \"http://www.w3.org/2000/svg\",\n            viewBox: \"0 0 24 24\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            strokeWidth: \"2\",\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n              cx: \"12\",\n              cy: \"12\",\n              r: \"10\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 545,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n              x1: \"12\",\n              y1: \"8\",\n              x2: \"12\",\n              y2: \"12\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 546,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n              x1: \"12\",\n              y1: \"16\",\n              x2: \"12.01\",\n              y2: \"16\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 547,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 544,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Are you sure?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 549,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"This will permanently remove \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: selectedUser.fullName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 551,\n              columnNumber: 46\n            }, this), \" (\", selectedUser.officerId, \"). This action cannot be undone.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 550,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 543,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"um-modal-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn btn-secondary\",\n            onClick: handleCloseModals,\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 555,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn btn-danger\",\n            onClick: handleConfirmDelete,\n            children: \"Yes, Remove User\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 558,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 554,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 542,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 541,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 296,\n    columnNumber: 5\n  }, this);\n};\n\n// Re-map the form from the modal for submission\n// (This component is not actively used in your structure but is kept as you had it)\n_s(UserManagement, \"CYX6iIDmBKOgzIjDFy92B1+7fcU=\");\n_c = UserManagement;\nconst CreateUserFormWrapper = ({\n  show,\n  handleCloseModals,\n  handleCreateUser,\n  ...props\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: `um-modal-overlay ${!show ? 'hidden' : ''}`,\n  onClick: handleCloseModals,\n  children: /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"um-modal-content\",\n    onClick: e => e.stopPropagation(),\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"um-modal-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Create New Officer\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 575,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"um-modal-close\",\n        onClick: handleCloseModals,\n        children: \"\\xD7\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 576,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 574,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      id: \"create-user-form\",\n      onSubmit: handleCreateUser,\n      className: \"um-modal-form\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 578,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"um-modal-actions\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"btn btn-secondary\",\n        onClick: handleCloseModals,\n        children: \"Cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 583,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary\",\n        form: \"create-user-form\",\n        children: \"Create Officer\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 584,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 582,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 573,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 572,\n  columnNumber: 3\n}, this);\n_c2 = CreateUserFormWrapper;\nexport default UserManagement;\nvar _c, _c2;\n$RefreshReg$(_c, \"UserManagement\");\n$RefreshReg$(_c2, \"CreateUserFormWrapper\");","map":{"version":3,"names":["React","useState","useEffect","adminAPI","toast","jsxDEV","_jsxDEV","STATE_CODES","code","name","RANK_CODES","calculateYearsOfService","dateOfJoining","joiningDate","Date","isNaN","getTime","today","diffTime","Math","abs","diffYears","toFixed","UserManagement","_s","users","setUsers","loading","setLoading","currentPage","setCurrentPage","totalPages","setTotalPages","isInitialLoad","setIsInitialLoad","searchTerm","setSearchTerm","roleFilter","setRoleFilter","debouncedSearchTerm","setDebouncedSearchTerm","debouncedRoleFilter","setDebouncedRoleFilter","showCreateModal","setShowCreateModal","showDeleteModal","setShowDeleteModal","selectedUser","setSelectedUser","errors","setErrors","officerIdParts","setOfficerIdParts","state","rankCode","year","getFullYear","toString","serial","newUser","setNewUser","officerId","fullName","designation","email","password","rank","rankCategories","validateEmail","validDomains","emailPattern","test","domain","split","isValidDomain","some","validDomain","endsWith","validateOfficerIdParts","newErrors","parseInt","currentYear","length","validateForm","Object","assign","emailError","generateOfficerId","paddedSerial","padStart","generatedId","prev","handler","setTimeout","clearTimeout","fetchUsers","response","getUsers","page","limit","search","role","data","success","pagination","pages","error","handleToggleStatus","userId","currentStatus","updateUser","isActive","handleCreateUser","e","preventDefault","formErrors","keys","createUser","_error$response","_error$response$data","_error$response2","_error$response2$data","message","backendErrors","reduce","acc","err","path","msg","handleDeleteClick","user","handleCloseModals","handleConfirmDelete","deleteUser","_id","_error$response3","_error$response3$data","handleRankChange","selectedRank","target","value","getAvailableDesignations","handleInputChange","field","handleOfficerIdPartChange","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","type","placeholder","onChange","map","max","disabled","min","stopPropagation","id","onSubmit","style","gap","flex","s","r","toISOString","form","xmlns","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","cx","cy","x1","y1","x2","y2","_c","CreateUserFormWrapper","show","props","_c2","$RefreshReg$"],"sources":["D:/HIMSPv4/HIMSPv4/police-inventory-system/frontend/src/components/admin/UserManagement.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { adminAPI } from '../../utils/api';\r\nimport { toast } from 'react-toastify';\r\nimport './UserManagement.css'; // <-- 1. IMPORT THE NEW CSS FILE\r\n\r\n// Valid Indian state codes\r\nconst STATE_CODES = [\r\n  { code: 'IND', name: 'All-India' }, { code: 'AP', name: 'Andhra Pradesh' },\r\n  { code: 'AR', name: 'Arunachal Pradesh' }, { code: 'AS', name: 'Assam' },\r\n  { code: 'BR', name: 'Bihar' }, { code: 'CG', name: 'Chhattisgarh' },\r\n  { code: 'GA', name: 'Goa' }, { code: 'GJ', name: 'Gujarat' },\r\n  { code: 'HR', name: 'Haryana' }, { code: 'HP', name: 'Himachal Pradesh' },\r\n  { code: 'JH', name: 'Jharkhand' }, { code: 'KA', name: 'Karnataka' },\r\n  { code: 'KL', name: 'Kerala' }, { code: 'MP', name: 'Madhya Pradesh' },\r\n  { code: 'MH', name: 'Maharashtra' }, { code: 'MN', name: 'Manipur' },\r\n  { code: 'ML', name: 'Meghalaya' }, { code: 'MZ', name: 'Mizoram' },\r\n  { code: 'NL', name: 'Nagaland' }, { code: 'OD', name: 'Odisha' },\r\n  { code: 'PB', name: 'Punjab' }, { code: 'RJ', name: 'Rajasthan' },\r\n  { code: 'SK', name: 'Sikkim' }, { code: 'TN', name: 'Tamil Nadu' },\r\n  { code: 'TG', name: 'Telangana' }, { code: 'TR', name: 'Tripura' },\r\n  { code: 'UP', name: 'Uttar Pradesh' }, { code: 'UK', name: 'Uttarakhand' },\r\n  { code: 'WB', name: 'West Bengal' }, { code: 'AN', name: 'Andaman & Nicobar' },\r\n  { code: 'CH', name: 'Chandigarh' }, { code: 'DH', name: 'Dadra & Nagar Haveli' },\r\n  { code: 'DD', name: 'Daman & Diu' }, { code: 'DL', name: 'Delhi' },\r\n  { code: 'JK', name: 'Jammu & Kashmir' }, { code: 'LA', name: 'Ladakh' },\r\n  { code: 'LD', name: 'Lakshadweep' }, { code: 'PY', name: 'Puducherry' }\r\n];\r\n\r\n// Valid rank codes\r\nconst RANK_CODES = [\r\n  { code: 'PC', name: 'Police Constable' }, { code: 'HC', name: 'Head Constable' },\r\n  { code: 'ASI', name: 'Assistant Sub-Inspector' }, { code: 'SI', name: 'Sub-Inspector' },\r\n  { code: 'PSI', name: 'Police Sub-Inspector' }, { code: 'INSP', name: 'Inspector' },\r\n  { code: 'PI', name: 'Police Inspector' }, { code: 'DSP', name: 'Deputy Superintendent of Police' },\r\n  { code: 'SP', name: 'Superintendent of Police' }, { code: 'SSP', name: 'Senior Superintendent of Police' },\r\n  { code: 'DCP', name: 'Deputy Commissioner of Police' }, { code: 'ADDCP', name: 'Additional DCP' },\r\n  { code: 'JCP', name: 'Joint Commissioner of Police' }, { code: 'IGP', name: 'Inspector General of Police' },\r\n  { code: 'DIGP', name: 'Deputy IGP' }, { code: 'ADGP', name: 'Additional DGP' },\r\n  { code: 'DGP', name: 'Director General of Police' }, { code: 'IPS', name: 'Indian Police Service' }\r\n];\r\n\r\n/**\r\n * Calculates the years of service based on the joining date.\r\n * @param {string} dateOfJoining - The ISO date string of joining.\r\n * @returns {string} - A string like \"5.2 years\" or \"N/A\".\r\n */\r\nconst calculateYearsOfService = (dateOfJoining) => {\r\n  if (!dateOfJoining) return 'N/A';\r\n  const joiningDate = new Date(dateOfJoining);\r\n  if (isNaN(joiningDate.getTime())) return 'N/A';\r\n  const today = new Date();\r\n  if (joiningDate > today) return '0.0 years';\r\n  const diffTime = Math.abs(today - joiningDate);\r\n  const diffYears = diffTime / (1000 * 60 * 60 * 24 * 365.25);\r\n  return diffYears.toFixed(1) + ' years';\r\n};\r\n\r\nconst UserManagement = () => {\r\n  const [users, setUsers] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [totalPages, setTotalPages] = useState(1);\r\n\r\n  // 游리 MODIFIED: We need 4 new states for debouncing and loading\r\n  const [isInitialLoad, setIsInitialLoad] = useState(true); // Is this the very first load?\r\n  const [searchTerm, setSearchTerm] = useState(''); // This is the \"live\" typing\r\n  const [roleFilter, setRoleFilter] = useState(''); // This is the \"live\" filter\r\n  const [debouncedSearchTerm, setDebouncedSearchTerm] = useState(''); // This triggers the API\r\n  const [debouncedRoleFilter, setDebouncedRoleFilter] = useState(''); // This triggers the API\r\n  \r\n  // Modals State\r\n  const [showCreateModal, setShowCreateModal] = useState(false);\r\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\r\n  const [selectedUser, setSelectedUser] = useState(null);\r\n  \r\n  // Form validation errors\r\n  const [errors, setErrors] = useState({});\r\n\r\n  const [officerIdParts, setOfficerIdParts] = useState({\r\n    state: '', rankCode: '',\r\n    year: new Date().getFullYear().toString(), serial: ''\r\n  });\r\n\r\n  const [newUser, setNewUser] = useState({\r\n    officerId: '', fullName: '', designation: '',\r\n    email: '', dateOfJoining: '', password: '', rank: ''\r\n  });\r\n\r\n  // Rank categories with their designations\r\n  const rankCategories = {\r\n    'Senior Command (DGP, SP, DCP)': ['Director General of Police (DGP)', 'Superintendent of Police (SP)', 'Deputy Commissioner of Police (DCP)'],\r\n    'District Administrator (DSP)': ['Deputy Superintendent of Police (DSP)'],\r\n    'Police Station Officers (PI, SI, PSI)': ['Police Inspector (PI)', 'Sub-Inspector (SI)', 'Police Sub-Inspector (PSI)'],\r\n    'Police Station Staff (HC, PC)': ['Head Constable (HC)', 'Police Constable (PC)']\r\n  };\r\n\r\n  // Validation functions (unchanged)\r\n  const validateEmail = (email) => {\r\n    const validDomains = ['police.gov.in', 'gov.in', 'state.gov.in'];\r\n    const emailPattern = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$/;\r\n    if (!email) return 'Email is required';\r\n    if (!emailPattern.test(email)) return 'Please enter a valid email address';\r\n    const domain = email.split('@')[1];\r\n    const isValidDomain = validDomains.some(validDomain => domain === validDomain || domain.endsWith('.' + validDomain));\r\n    if (!isValidDomain) return 'Email must be from police.gov.in, gov.in, or state.gov.in domains';\r\n    return '';\r\n  };\r\n\r\n  const validateOfficerIdParts = () => {\r\n    const newErrors = {};\r\n    if (!officerIdParts.state) newErrors.state = 'State is required';\r\n    if (!officerIdParts.rankCode) newErrors.rankCode = 'Rank code is required';\r\n    if (!officerIdParts.year) newErrors.year = 'Year is required';\r\n    else {\r\n      const year = parseInt(officerIdParts.year);\r\n      const currentYear = new Date().getFullYear();\r\n      if (year < 1947 || year > currentYear + 1) newErrors.year = `Year must be between 1947 and ${currentYear + 1}`;\r\n    }\r\n    if (!officerIdParts.serial) newErrors.serial = 'Serial number is required';\r\n    else if (officerIdParts.serial.length < 1 || officerIdParts.serial.length > 6) newErrors.serial = 'Serial must be 1-6 digits';\r\n    return newErrors;\r\n  };\r\n\r\n  const validateForm = () => {\r\n    const newErrors = {};\r\n    Object.assign(newErrors, validateOfficerIdParts());\r\n    if (!newUser.fullName) newErrors.fullName = 'Full name is required';\r\n    else if (newUser.fullName.length < 3) newErrors.fullName = 'Full name must be at least 3 characters';\r\n    else if (newUser.fullName.length > 100) newErrors.fullName = 'Full name cannot exceed 100 characters';\r\n    const emailError = validateEmail(newUser.email);\r\n    if (emailError) newErrors.email = emailError;\r\n    if (!newUser.dateOfJoining) newErrors.dateOfJoining = 'Date of joining is required';\r\n    else if (new Date(newUser.dateOfJoining) > new Date()) newErrors.dateOfJoining = 'Date of joining cannot be in the future';\r\n    if (!newUser.rank) newErrors.rank = 'Rank category is required';\r\n    if (!newUser.designation) newErrors.designation = 'Designation is required';\r\n    if (!newUser.password) newErrors.password = 'Password is required';\r\n    else if (newUser.password.length < 8) newErrors.password = 'Password must be at least 8 characters';\r\n    return newErrors;\r\n  };\r\n\r\n  const generateOfficerId = () => {\r\n    const { state, rankCode, year, serial } = officerIdParts;\r\n    if (state && rankCode && year && serial) {\r\n      const paddedSerial = serial.padStart(4, '0');\r\n      return `${state}${rankCode}${year}${paddedSerial}`;\r\n    }\r\n    return '';\r\n  };\r\n\r\n  useEffect(() => {\r\n    const generatedId = generateOfficerId();\r\n    setNewUser(prev => ({ ...prev, officerId: generatedId }));\r\n    if (generatedId) {\r\n      setErrors(prev => ({ ...prev, state: '', rankCode: '', year: '', serial: '' }));\r\n    }\r\n  }, [officerIdParts]);\r\n\r\n  // 游릭 ADDED: This hook \"debounces\" the user's input\r\n  useEffect(() => {\r\n    // Set a timer for 500ms\r\n    const handler = setTimeout(() => {\r\n      setDebouncedSearchTerm(searchTerm);\r\n      setDebouncedRoleFilter(roleFilter);\r\n      setCurrentPage(1); // Reset to page 1 on a new search\r\n    }, 500); // 500ms delay\r\n\r\n    // Clear the timer if the user types again\r\n    return () => {\r\n      clearTimeout(handler);\r\n    };\r\n  }, [searchTerm, roleFilter]); // Watch the \"live\" inputs\r\n\r\n\r\n  // 游리 MODIFIED: This hook now fetches data based on the *debounced* values\r\n  useEffect(() => {\r\n    fetchUsers();\r\n  }, [currentPage, debouncedSearchTerm, debouncedRoleFilter]); // <-- DEPENDENCIES CHANGED\r\n\r\n  const fetchUsers = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await adminAPI.getUsers({\r\n        page: currentPage, limit: 10,\r\n        search: debouncedSearchTerm, // <-- USE DEBOUNCED\r\n        role: debouncedRoleFilter   // <-- USE DEBOUNCED\r\n      });\r\n      if (response.data.success) {\r\n        setUsers(response.data.data.users);\r\n        setTotalPages(response.data.data.pagination.pages);\r\n      }\r\n    } catch (error) {\r\n      toast.error('Failed to fetch users');\r\n    } finally {\r\n      setLoading(false);\r\n      setIsInitialLoad(false); // 游릭 ADDED: Mark initial load as complete\r\n    }\r\n  };\r\n\r\n  const handleToggleStatus = async (userId, currentStatus) => {\r\n    try {\r\n      await adminAPI.updateUser(userId, { isActive: !currentStatus });\r\n      toast.success(`User ${!currentStatus ? 'activated' : 'deactivated'} successfully`);\r\n      fetchUsers();\r\n    } catch (error) {\r\n      toast.error('Failed to update user status');\r\n    }\r\n  };\r\n\r\n  const handleCreateUser = async (e) => {\r\n    e.preventDefault();\r\n    const formErrors = validateForm();\r\n    if (Object.keys(formErrors).length > 0) {\r\n      setErrors(formErrors);\r\n      toast.error('Please fix the errors in the form.');\r\n      return;\r\n    }\r\n    try {\r\n      await adminAPI.createUser(newUser);\r\n      toast.success('Officer created successfully!');\r\n      setShowCreateModal(false);\r\n      setNewUser({ officerId: '', fullName: '', designation: '', email: '', dateOfJoining: '', password: '', rank: '' });\r\n      setOfficerIdParts({ state: '', rankCode: '', year: new Date().getFullYear().toString(), serial: '' });\r\n      setErrors({});\r\n      fetchUsers();\r\n    } catch (error) {\r\n      // Simplified error handling\r\n      toast.error(error.response?.data?.message || 'Failed to create officer.');\r\n      if (error.response?.data?.errors) {\r\n        const backendErrors = error.response.data.errors.reduce((acc, err) => {\r\n          acc[err.path] = err.msg;\r\n          return acc;\r\n        }, {});\r\n        setErrors(backendErrors);\r\n      }\r\n    }\r\n  };\r\n\r\n  // 3. ======== 游릭 HANDLERS FOR DELETE MODAL 游릭 ========\r\n  const handleDeleteClick = (user) => {\r\n    setSelectedUser(user);\r\n    setShowDeleteModal(true);\r\n  };\r\n\r\n  const handleCloseModals = () => {\r\n    setShowCreateModal(false);\r\n    setShowDeleteModal(false);\r\n    setSelectedUser(null);\r\n    setErrors({});\r\n  };\r\n\r\n  const handleConfirmDelete = async () => {\r\n    if (!selectedUser) return;\r\n    try {\r\n      // You must add `deleteUser` to your `adminAPI` in api.js\r\n      await adminAPI.deleteUser(selectedUser._id);\r\n      toast.success(`User ${selectedUser.fullName} has been permanently removed.`);\r\n      handleCloseModals();\r\n      fetchUsers(); // Refresh the list\r\n    } catch (error) {\r\n      toast.error(error.response?.data?.message || 'Failed to remove user.');\r\n      handleCloseModals();\r\n    }\r\n  };\r\n  // ===================================================\r\n\r\n  // (Helper functions for forms are unchanged)\r\n  const handleRankChange = (e) => {\r\n    const selectedRank = e.target.value;\r\n    setNewUser(prev => ({ ...prev, rank: selectedRank, designation: '' }));\r\n    if (selectedRank) setErrors(prev => ({ ...prev, rank: '', designation: '' }));\r\n  };\r\n  const getAvailableDesignations = () => rankCategories[newUser.rank] || [];\r\n  const handleInputChange = (field, value) => {\r\n    setNewUser(prev => ({ ...prev, [field]: value }));\r\n    if (errors[field]) setErrors(prev => ({ ...prev, [field]: '' }));\r\n  };\r\n  const handleOfficerIdPartChange = (field, value) => {\r\n    setOfficerIdParts(prev => ({ ...prev, [field]: value }));\r\n    if (errors[field]) setErrors(prev => ({ ...prev, [field]: '' }));\r\n  };\r\n\r\n  // 游리 MODIFIED: This now ONLY shows for the *initial* load\r\n  if (loading && isInitialLoad) {\r\n    return (\r\n      <div className=\"um-page\">\r\n        <div className=\"loading-container\">\r\n          <div className=\"loading-spinner\"></div>\r\n          <p>Loading users...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // 4. ======== 游릭 REFACTORED JSX WITH NEW CSS CLASSES 游릭 ========\r\n  return (\r\n    <div className=\"um-page\">\r\n      <div className=\"um-container\">\r\n        <div className=\"um-header\">\r\n          <h2>User Management</h2>\r\n          <button \r\n            className=\"btn btn-primary\"\r\n            onClick={() => setShowCreateModal(true)}\r\n          >\r\n            + Create New Officer\r\n          </button>\r\n        </div>\r\n\r\n        {/* Filters Section */}\r\n        <div className=\"um-controls\">\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Search by name, email, or officer ID...\"\r\n            // 游리 MODIFIED: Value and onChange now use the \"live\" state\r\n            value={searchTerm}\r\n            onChange={(e) => setSearchTerm(e.target.value)}\r\n            className=\"um-search-input\"\r\n          />\r\n          <select\r\n            // 游리 MODIFIED: Value and onChange now use the \"live\" state\r\n            value={roleFilter}\r\n            onChange={(e) => setRoleFilter(e.target.value)}\r\n            className=\"um-filter-select\"\r\n          >\r\n            <option value=\"\">All Roles</option>\r\n            <option value=\"admin\">Admin</option>\r\n            <option value=\"officer\">Officer</option>\r\n          </select>\r\n        </div>\r\n\r\n        {/* Users Table */}\r\n        {/* 游리 MODIFIED: Added conditional class for loading fade */}\r\n        <div className={`um-table-wrapper ${loading ? 'um-loading' : ''}`}>\r\n          {/* 游리 MODIFIED: Added check for !loading */}\r\n          {users.length === 0 && !loading ? (\r\n            <div className=\"um-empty-state\">\r\n              {/* 游리 MODIFIED: Updated text */}\r\n              <p>No users found matching your criteria.</p>\r\n            </div>\r\n          ) : (\r\n            <table className=\"um-table\">\r\n              <thead>\r\n                <tr>\r\n                  <th>Officer ID</th>\r\n                  <th>Full Name</th>\r\n                  <th>Email</th>\r\n                  <th>Designation</th>\r\n                  <th>Rank</th>\r\n                  <th>Service (Yrs)</th>\r\n                  <th>Status</th>\r\n                  <th>Actions</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {users.map(user => (\r\n                  <tr key={user._id}>\r\n                    <td><code>{user.officerId}</code></td>\r\n                    <td>{user.fullName}</td>\r\n                    <td>{user.email}</td>\r\n                    <td>\r\n                      <span className=\"um-badge um-badge-blue\">{user.designation}</span>\r\n                    </td>\r\n                    <td>{user.rank}</td>\r\n                    <td>{calculateYearsOfService(user.dateOfJoining)}</td>\r\n                    <td>\r\n                      <span className={`um-badge ${user.isActive ? 'um-badge-green' : 'um-badge-gray'}`}>\r\n                        {user.isActive ? 'Active' : 'Inactive'}\r\n                      </span>\r\n                    </td>\r\n                    <td className=\"um-actions-cell\">\r\n                      <button\r\n                        className={`btn btn-action ${user.isActive ? 'btn-action-warn' : 'btn-action-success'}`}\r\n                        onClick={() => handleToggleStatus(user._id, user.isActive)}\r\n                      >\r\n                        {user.isActive ? 'Deactivate' : 'Activate'}\r\n                      </button>\r\n                      {/* 5. ======== 游릭 ADDED REMOVE BUTTON 游릭 ======== */}\r\n                      <button\r\n                        className=\"btn btn-action btn-action-danger\"\r\n                        onClick={() => handleDeleteClick(user)}\r\n                      >\r\n                        Remove\r\n                      </button>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          )}\r\n        </div>\r\n\r\n        {/* Pagination */}\r\n        {totalPages > 1 && (\r\n          <div className=\"um-pagination\">\r\n            <button\r\n              className=\"btn btn-secondary\"\r\n              onClick={() => setCurrentPage(prev => Math.max(1, prev - 1))}\r\n              // 游리 MODIFIED: Disable pagination while loading\r\n              disabled={currentPage === 1 || loading}\r\n            >\r\n              Previous\r\n            </button>\r\n            <span className=\"um-page-info\">\r\n              Page {currentPage} of {totalPages}\r\n            </span>\r\n            <button\r\n              className=\"btn btn-secondary\"\r\n              onClick={() => setCurrentPage(prev => Math.min(totalPages, prev + 1))}\r\n              // 游리 MODIFIED: Disable pagination while loading\r\n              disabled={currentPage === totalPages || loading}\r\n            >\r\n              Next\r\n            </button>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Create User Modal */}\r\n      {showCreateModal && (\r\n        <div className=\"um-modal-overlay\" onClick={handleCloseModals}>\r\n          <div className=\"um-modal-content\" onClick={(e) => e.stopPropagation()}>\r\n            <div className=\"um-modal-header\">\r\n              <h3>Create New Officer</h3>\r\n              <button className=\"um-modal-close\" onClick={handleCloseModals}>칑</button>\r\n            </div>\r\n            \r\n            {/* 游리 MODIFIED: Added id=\"create-user-form\" */}\r\n            <form id=\"create-user-form\" onSubmit={handleCreateUser} className=\"um-modal-form\">\r\n              <div className=\"um-form-section\">\r\n                <h4>Officer ID Builder</h4>\r\n                <div className=\"um-form-row\" style={{gap: '8px'}}>\r\n                  <div className=\"um-form-group\" style={{flex: '1'}}>\r\n                    <label>State *</label>\r\n                    <select\r\n                      value={officerIdParts.state}\r\n                      onChange={(e) => handleOfficerIdPartChange('state', e.target.value)}\r\n                      className={errors.state ? 'error' : ''}\r\n                    >\r\n                      <option value=\"\">Select State</option>\r\n                      {STATE_CODES.map(s => <option key={s.code} value={s.code}>{s.code} - {s.name}</option>)}\r\n                    </select>\r\n                    {errors.state && <span className=\"um-error-message\">{errors.state}</span>}\r\n                  </div>\r\n                  <div className=\"um-form-group\" style={{flex: '1'}}>\r\n                    <label>Rank Code *</label>\r\n                    <select\r\n                      value={officerIdParts.rankCode}\r\n                      onChange={(e) => handleOfficerIdPartChange('rankCode', e.target.value)}\r\n                      className={errors.rankCode ? 'error' : ''}\r\n                    >\r\n                      <option value=\"\">Select Rank</option>\r\n                      {RANK_CODES.map(r => <option key={r.code} value={r.code}>{r.code} - {r.name}</option>)}\r\n                    </select>\r\n                    {errors.rankCode && <span className=\"um-error-message\">{errors.rankCode}</span>}\r\n                  </div>\r\n                  <div className=\"um-form-group\" style={{flex: '0.7'}}>\r\n                    <label>Year *</label>\r\n                    <input\r\n                      type=\"number\"\r\n                      value={officerIdParts.year}\r\n                      onChange={(e) => handleOfficerIdPartChange('year', e.target.value)}\r\n                      placeholder=\"2024\"\r\n                      className={errors.year ? 'error' : ''}\r\n                    />\r\n                    {errors.year && <span className=\"um-error-message\">{errors.year}</span>}\r\n                  </div>\r\n                  <div className=\"um-form-group\" style={{flex: '0.7'}}>\r\n                    <label>Serial *</label>\r\n                    <input\r\n                      type=\"number\"\r\n                      value={officerIdParts.serial}\r\n                      onChange={(e) => handleOfficerIdPartChange('serial', e.target.value)}\r\n                      placeholder=\"0001\"\r\n                      className={errors.serial ? 'error' : ''}\r\n                    />\r\n                    {errors.serial && <span className=\"um-error-message\">{errors.serial}</span>}\r\n                  </div>\r\n                </div>\r\n                <div className=\"um-officer-id-preview\">\r\n                  <span className=\"um-preview-label\">Officer ID:</span>\r\n                  <span className=\"um-preview-value\">{newUser.officerId || 'STATE/RANK/YEAR/SERIAL'}</span>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"um-form-row\">\r\n                <div className=\"um-form-group\">\r\n                  <label>Full Name *</label>\r\n                  <input type=\"text\" value={newUser.fullName} onChange={(e) => handleInputChange('fullName', e.target.value)} className={errors.fullName ? 'error' : ''} />\r\n                  {errors.fullName && <span className=\"um-error-message\">{errors.fullName}</span>}\r\n                </div>\r\n                <div className=\"um-form-group\">\r\n                  <label>Email *</label>\r\n                  <input type=\"email\" value={newUser.email} onChange={(e) => handleInputChange('email', e.target.value)} className={errors.email ? 'error' : ''} />\r\n                  {errors.email && <span className=\"um-error-message\">{errors.email}</span>}\r\n                  <span className=\"um-field-hint\">Only @police.gov.in, @gov.in, or @state.gov.in</span>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"um-form-row\">\r\n                <div className=\"um-form-group\">\r\n                  <label>Date of Joining *</label>\r\n                  <input type=\"date\" value={newUser.dateOfJoining} onChange={(e) => handleInputChange('dateOfJoining', e.target.value)} max={new Date().toISOString().split('T')[0]} className={errors.dateOfJoining ? 'error' : ''} />\r\n                  {errors.dateOfJoining && <span className=\"um-error-message\">{errors.dateOfJoining}</span>}\r\n                </div>\r\n                <div className=\"um-form-group\">\r\n                  <label>Rank Category *</label>\r\n                  <select value={newUser.rank} onChange={handleRankChange} className={errors.rank ? 'error' : ''}>\r\n                    <option value=\"\">Select Rank Category</option>\r\n                    {Object.keys(rankCategories).map(rank => <option key={rank} value={rank}>{rank}</option>)}\r\n                  </select>\r\n                  {errors.rank && <span className=\"um-error-message\">{errors.rank}</span>}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"um-form-row\">\r\n                <div className=\"um-form-group\">\r\n                  <label>Designation *</label>\r\n                  <select value={newUser.designation} onChange={(e) => handleInputChange('designation', e.target.value)} disabled={!newUser.rank} className={errors.designation ? 'error' : ''}>\r\n                    <option value=\"\">{newUser.rank ? 'Select Designation' : 'Select Rank First'}</option>\r\n                    {getAvailableDesignations().map(designation => <option key={designation} value={designation}>{designation}</option>)}\r\n                  </select>\r\n                  {errors.designation && <span className=\"um-error-message\">{errors.designation}</span>}\r\n                </div>\r\n                <div className=\"um-form-group\">\r\n                  <label>Password *</label>\r\n                  <input type=\"password\" value={newUser.password} onChange={(e) => handleInputChange('password', e.target.value)} placeholder=\"Minimum 8 characters\" className={errors.password ? 'error' : ''} />\r\n                  {errors.password && <span className=\"um-error-message\">{errors.password}</span>}\r\n                </div>\r\n              </div>\r\n            </form>\r\n            <div className=\"um-modal-actions\">\r\n              <button type=\"button\" className=\"btn btn-secondary\" onClick={handleCloseModals}>Cancel</button>\r\n              {/* Note: The form has its own submit button, but for consistency we link it here */}\r\n              <button type=\"submit\" className=\"btn btn-primary\" form=\"create-user-form\">Create Officer</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* 6. ======== 游릭 ADDED DELETE CONFIRMATION MODAL 游릭 ======== */}\r\n      {showDeleteModal && selectedUser && (\r\n        <div className=\"um-modal-overlay\" onClick={handleCloseModals}>\r\n          <div className=\"um-modal-content um-modal-content-small\" onClick={(e) => e.stopPropagation()}>\r\n            <div className=\"um-modal-body-centered\">\r\n              <svg className=\"icon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\r\n                <circle cx=\"12\" cy=\"12\" r=\"10\"></circle>\r\n                <line x1=\"12\" y1=\"8\" x2=\"12\" y2=\"12\"></line>\r\n                <line x1=\"12\" y1=\"16\" x2=\"12.01\" y2=\"16\"></line>\r\n              </svg>\r\n              <h3>Are you sure?</h3>\r\n              <p>\r\n                This will permanently remove <strong>{selectedUser.fullName}</strong> ({selectedUser.officerId}). This action cannot be undone.\r\n              </p>\r\n            </div>\r\n            <div className=\"um-modal-actions\">\r\n              <button type=\"button\" className=\"btn btn-secondary\" onClick={handleCloseModals}>\r\n                Cancel\r\n              </button>\r\n              <button type=\"button\" className=\"btn btn-danger\" onClick={handleConfirmDelete}>\r\n                Yes, Remove User\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\n// Re-map the form from the modal for submission\r\n// (This component is not actively used in your structure but is kept as you had it)\r\nconst CreateUserFormWrapper = ({ show, handleCloseModals, handleCreateUser, ...props }) => (\r\n  <div className={`um-modal-overlay ${!show ? 'hidden' : ''}`} onClick={handleCloseModals}>\r\n    <div className=\"um-modal-content\" onClick={(e) => e.stopPropagation()}>\r\n      <div className=\"um-modal-header\">\r\n        <h3>Create New Officer</h3>\r\n        <button className=\"um-modal-close\" onClick={handleCloseModals}>칑</button>\r\n      </div>\r\n      <form id=\"create-user-form\" onSubmit={handleCreateUser} className=\"um-modal-form\">\r\n        {/* All the form content from the main component, passed as props or children */}\r\n        {/* This is a simplified example; the original structure is better */}\r\n      </form>\r\n      <div className=\"um-modal-actions\">\r\n        <button type=\"button\" className=\"btn btn-secondary\" onClick={handleCloseModals}>Cancel</button>\r\n        <button type=\"submit\" className=\"btn btn-primary\" form=\"create-user-form\">Create Officer</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default UserManagement;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}